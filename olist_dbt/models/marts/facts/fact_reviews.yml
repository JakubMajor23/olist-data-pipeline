version: 2

models:
  - name: fact_reviews
    description: "Fact table for order reviews, linking orders to review details."
    columns:
      - name: review_key
        description: "Surrogate key for review."
        tests:
          - unique
          - not_null

      - name: review_id
        description: "Original review identifier."
        tests:
          - not_null

      - name: order_id
        description: "Foreign key to orders."
        tests:
          - not_null

      - name: review_score
        description: "Review score (1-5)."
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_between:
              min_value: 1
              max_value: 5

      - name: review_comment_title
        description: "Title of the review comment."

      - name: review_comment_message
        description: "Content of the review comment."

      - name: review_creation_date
        description: "Date the review was created."
      
      - name: review_answer_timestamp
        description: "Timestamp when the review was answered."
